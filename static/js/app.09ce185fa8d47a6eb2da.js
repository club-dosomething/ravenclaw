webpackJsonp([1],{155:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.style?n("div",{ref:"lavContainer",style:t.style,on:{click:function(e){return t.$emit("click")},mousedown:function(e){return t.$emit("down")},mouseup:function(e){return t.$emit("up")}}}):t._e()},a=[],o={render:i,staticRenderFns:a};e.a=o},156:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{fadeout:!t.isLoading}},[n("lottie-view",{attrs:{path:"static/4-dots.json"}})],1)},a=[],o={render:i,staticRenderFns:a};e.a=o},157:function(t,e,n){"use strict";var i=n(66),a=n(201),o=n(9),r=o(i.a,a.a,!1,null,null,null);e.a=r.exports},158:function(t,e,n){"use strict";function i(t){n(159)}var a=n(67),o=n(200),r=n(9),s=i,c=r(a.a,o.a,!1,s,"data-v-cff92260",null);e.a=c.exports},159:function(t,e){},160:function(t,e,n){"use strict";function i(t){n(161)}var a=n(68),o=n(162),r=n(9),s=i,c=r(a.a,o.a,!1,s,"data-v-30a7fd1a",null);e.a=c.exports},161:function(t,e){},162:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-ons-page",[i("v-ons-toolbar",{attrs:{modifier:"transparent"}}),t._v(" "),i("div",{staticClass:"header"},[i("img",{attrs:{src:n(163)}})]),t._v(" "),i("v-ons-list-title",[t._v("Onsen UI Essential Links")]),t._v(" "),i("v-ons-list",t._l(t.essentialLinks,function(e){return i("v-ons-list-item",{key:e.link,attrs:{modifier:"chevron"},on:{click:function(n){return t.goTo(e.link)}}},[i("div",{staticClass:"left"},[i("v-ons-icon",{attrs:{"fixed-width":"",icon:e.icon}})],1),t._v(" "),i("div",{staticClass:"center"},[t._v(t._s(e.label))])])}),1)],1)},a=[],o={render:i,staticRenderFns:a};e.a=o},163:function(t,e,n){t.exports=n.p+"static/img/onsenui-logo.94ee79b.png"},164:function(t,e,n){"use strict";function i(t){n(165)}var a=n(69),o=n(199),r=n(9),s=i,c=r(a.a,o.a,!1,s,"data-v-5632cbd2",null);e.a=c.exports},165:function(t,e){},192:function(t,e,n){"use strict";function i(){var t=[{x:0,y:0},{x:p,y:0},{x:p,y:h},{x:0,y:h}];d.clear(),d.lineStyle(2,16711680),d.drawDashedPolygon(t,0,0,0,10,5,0),d.x=l.view.width/2-p/2,d.y=l.view.height/2-h/2}function a(t){l=t,d=new u.b,l.stage.addChild(d),i();var e=new u.b;e.interactive=!0,e.buttonMode=!0,e.x=0,e.y=0,e.alpha=0,e.beginFill(0),e.drawRect(0,0,l.view.width,l.view.height),e.endFill(),e.on("pointerdown",o).on("pointerup",r).on("pointerupoutside",r).on("pointermove",s),l.stage.addChild(e)}function o(t){g=t.data,v=g.getLocalPosition(this.parent),f={width:p,height:h}}function r(){g=null}function s(){if(g){var t=g.getLocalPosition(this.parent),e=t.x-v.x,n=t.y-v.y;p=Math.min(Math.max(f.width+e,100),l.view.width),h=Math.min(Math.max(f.height+n,100),l.view.height),i()}}function c(){return{width:p,height:h}}var u=n(37),l=(n(193),null),d=null,p=100,h=100,f=null,v=null,g=null;e.a={init:a,size:c}},193:function(t,e,n){"use strict";n(37).b.prototype.drawDashedPolygon=function(t,e,n,i,a,o,r){var s,c,u,l,d,p=0,h=0;if(r>0){var f=(a+o)*r;f<a?p=a-f:h=o-(f-a)}var v=[];for(s=0;s<t.length;s++){var g={x:t[s].x,y:t[s].y},m=Math.cos(i),w=Math.sin(i);l=g.x,d=g.y,g.x=l*m-d*w,g.y=l*w+d*m,v.push(g)}for(s=0;s<v.length;s++){c=v[s],u=s===v.length-1?v[0]:v[s+1],l=u.x-c.x,d=u.y-c.y;var y=Math.sqrt(l*l+d*d),x={x:l/y,y:d/y},k=0;for(this.moveTo(e+c.x+h*x.x,n+c.y+h*x.y);k<=y;)k+=h,k+=p>0?p:a,k>y?(p=k-y,k=y):p=0,this.lineTo(e+c.x+k*x.x,n+c.y+k*x.y),k+=o,k>y&&0===p?h=k-y:(h=0,this.moveTo(e+c.x+k*x.x,n+c.y+k*x.y))}}},194:function(t,e,n){"use strict";function i(t,e,n,i,a,o,r){console.log("x: "+e+", y: "+n+", width: "+i+", height: "+a);var s=i,c=a;i>a?(s=o,c=a/i*o):(c=r,s=i/a*r);var u=new OffscreenCanvas(s,c),l=u.getContext("2d");return l.clearRect(0,0,u.width,u.height),l.drawImage(t,e,n,i,a,0,0,s,c),{blob:u.convertToBlob({type:"image/png"}),bitmap:u.transferToImageBitmap()}}function a(t){return new r.a(function(e,n){var i=new FileReader;i.onload=function(){e(i.result)},i.onerror=n,i.readAsDataURL(t)})}var o=n(43),r=n.n(o);e.a={crop:i,blobToUrl:a}},195:function(t,e){},198:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-ons-page",[n("img",{attrs:{id:"original-image"}}),t._v(" "),n("div",{attrs:{id:"svg-wrapper"}})])},a=[],o={render:i,staticRenderFns:a};e.a=o},199:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-ons-page",[n("video",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}],ref:"camera",staticClass:"camera-surface",attrs:{autoplay:""}}),t._v(" "),n("canvas",{ref:"pixiCanvas"}),t._v(" "),n("lottie-view",{ref:"btn",class:["okBtn",t.isPhotoTaken?"fadein":"fadeout"],attrs:{width:"100px",height:"100px",speed:2,loop:!0,autoPlay:!1,path:"static/dot-loading.json"},on:{click:t.onClick,complete:t.onComplete}})],1)},a=[],o={render:i,staticRenderFns:a};e.a=o},200:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-ons-splitter",[n("v-ons-splitter-side",{attrs:{swipeable:"",collapse:"",width:"250px",animation:t.$ons.platform.isAndroid()?"overlay":"reveal",open:t.menuIsOpen},on:{"update:open":function(e){t.menuIsOpen=e}}},[n("menu-page")],1),t._v(" "),n("v-ons-splitter-content",[n("v-ons-page",{on:{toggleMenu:function(e){t.menuIsOpen=!t.menuIsOpen}}},[n("v-ons-toolbar",{staticClass:"home-toolbar"},[n("div",{staticClass:"left"},[n("v-ons-toolbar-button",{on:{click:function(e){return t.$emit("toggleMenu")}}},[n("v-ons-icon",{attrs:{icon:"ion-navicon, material:md-menu"}})],1)],1),t._v(" "),n("div",{staticClass:"center"},[t._v(t._s(t.msg))])]),t._v(" "),n("div",{staticClass:"guide-text"},[t._v(" Connect your Projector to Mobile ")]),t._v(" "),n("lottie-view",{attrs:{width:"min(100vw, 100vh)",height:"min(100vw, 100vh)",path:"static/yoga-developer.json"}}),t._v(" "),n("v-ons-button",{staticClass:"guide-ok",attrs:{modifier:"large"},on:{click:function(e){return t.$emit("replace-page",t.canvasPage)}}},[t._v("Ok, I connected.")]),t._v(" "),n("v-ons-button",{staticClass:"guide-edit",attrs:{modifier:"large"},on:{click:function(e){return t.$emit("replace-page",t.editPage)}}},[t._v("Go Edit.")])],1)],1)],1)},a=[],o={render:i,staticRenderFns:a};e.a=o},201:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("v-ons-navigator",{attrs:{swipeable:"","page-stack":t.pageStack},on:{"push-page":function(e){return t.pageStack.push(e)},"replace-page":function(e){t.pageStack.pop(),t.pageStack.push(e)},"home-page":function(e){return t.goHome()}}})},a=[],o={render:i,staticRenderFns:a};e.a=o},202:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isLoading?n("splash",{attrs:{isLoading:t.isLoading}}):n("navi-page")},a=[],o={render:i,staticRenderFns:a};e.a=o},28:function(t,e,n){"use strict";var i=n(42),a=n(155),o=n(9),r=o(i.a,a.a,!1,null,null,null);e.a=r.exports},40:function(t,e,n){"use strict";var i=n(96),a=n(157);e.a={name:"app",data:function(){return{isLoading:!0}},mounted:function(){var t=this;setTimeout(function(){t.isLoading=!1},3e3)},components:{Splash:i.a,NaviPage:a.a}}},41:function(t,e,n){"use strict";var i=n(28);e.a={name:"splash",props:["isLoading"],components:{LottieView:i.a}}},42:function(t,e,n){"use strict";var i=n(98),a=n.n(i),o=n(101),r=n.n(o),s=n(137),c=n.n(s),u=n(57),l=n.n(u);e.a={props:{path:{required:!0},speed:{type:Number,required:!1,default:1},width:{type:Number|String,required:!1,default:-1},height:{type:Number|String,required:!1,default:-1},loop:{type:Boolean,required:!1,default:!0},autoPlay:{type:Boolean,required:!1,default:!0},loopDelayMin:{type:Number,required:!1,default:0},loopDelayMax:{type:Number,required:!1,default:0}},data:function(){return{name:"lottie-view",rendererSettings:{scaleMode:"centerCrop",clearCanvas:!0,progressiveLoad:!1,hideOnTransparent:!0},anim:null,style:null}},methods:{getRandomInt:function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t))+t},executeLoop:function(){var t=this;this.anim.play(),setTimeout(function(){t.anim.stop(),t.executeLoop()},this.getRandomInt(this.loopDelayMin,0===this.loopDelayMax?this.loopDelayMin:this.loopDelayMax))},sizeText:function(t){return isNaN(t)?t:t+"px"},init:function(){var t=this;return r()(a.a.mark(function e(){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.style={width:-1!==t.width?t.sizeText(t.width):"100%",height:-1!==t.height?t.sizeText(t.height):"100%",overflow:"hidden",margin:"0 auto"},e.next=3,l.a.get(t.path).then(function(t){return t.data});case 3:n=e.sent,t.anim&&t.anim.destroy(),t.anim=c.a.loadAnimation({container:t.$refs.lavContainer,renderer:"svg",loop:t.loop,autoplay:t.autoPlay,animationData:n,rendererSettings:t.rendererSettings}),t.anim.addEventListener("complete",function(){t.$emit("complete",t.anim)}),t.$emit("AnimControl",t.anim),t.anim.setSpeed(t.speed),t.loopDelayMin>0&&(t.anim.loop=!1,t.anim.autoplay=!1,t.executeLoop());case 10:case"end":return e.stop()}},e,t)}))()}},mounted:function(){this.init()}}},66:function(t,e,n){"use strict";var i=n(158);e.a={name:"navigation",data:function(){return{pageStack:[i.a]}},methods:{goHome:function(){this.pageStack.pop(),this.pageStack.push(i.a)}},components:{HomePage:i.a}}},67:function(t,e,n){"use strict";var i=n(28),a=n(160),o=n(164),r=n(83);e.a={name:"home",data:function(){return{menuIsOpen:!1,msg:"This is LightWarp!",canvasPage:o.a,editPage:r.a}},methods:{goTo:function(t){window.open(t,"_blank")}},components:{MenuPage:a.a,CanvasPage:o.a,LottieView:i.a,EditPage:r.a}}},68:function(t,e,n){"use strict";e.a={name:"sidebar",data:function(){return{essentialLinks:[{label:"Docs",link:"https://onsen.io/v2/docs/guide/vue/",icon:"fa-book"},{label:"Gitter Chat",link:"https://gitter.im/OnsenUI/OnsenUI",icon:"fa-commenting"},{label:"Forum",link:"https://community.onsen.io",icon:"ion-chatboxes"},{label:"Twitter",link:"https://twitter.com/Onsen_UI",icon:"fa-twitter"},{label:"Playground",link:"https://tutorial.onsen.io/",icon:"fa-graduation-cap"}]}},methods:{goTo:function(t){window.open(t,"_blank")}}}},69:function(t,e,n){"use strict";var i=n(37),a=n(192),o=n(28),r=n(194),s=n(57),c=n.n(s),u=n(83);e.a={name:"CanvasPage",data:function(){return{app:null,isLoading:!0,isPhotoTaken:!1,imageCapture:null}},mounted:function(){var t=this;navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:"environment",width:screen.width,height:screen.height}}).then(function(e){t.isLoading=!1,t.$refs.camera.srcObject=e;var n=e.getVideoTracks()[0];t.imageCapture=new window.ImageCapture(n)}).catch(function(e){t.isLoading=!1,console.error("Platform Webview does not support getUserMedia video."),console.error(e)}),this.app=new i.a({backgroundAlpha:0,antialias:!0,view:this.$refs.pixiCanvas}),this.app.renderer.view.className="canvas-surface",this.app.renderer.view.style.position="fixed",this.app.renderer.view.style.width="100%",this.app.renderer.view.style.height="100%",this.app.renderer.view.style.zIndex="10",this.app.renderer.autoResize=!0,this.app.renderer.resize(window.innerWidth,window.innerHeight),a.a.init(this.app)},methods:{progressStart:function(){this.$refs.btn.anim.show(),this.$refs.btn.anim.goToAndPlay(0)},progressEnd:function(){this.$refs.btn.anim.hide(),this.$refs.btn.anim.goToAndStop(0)},onClick:function(){console.log("onClick"),this.isPhotoTaken=!this.isPhotoTaken,this.isPhotoTaken?(this.progressStart(),this.takePhoto()):this.progressEnd()},goEdit:function(){this.$emit("replace-page",u.a)},onComplete:function(){console.log("onComplete"),this.$refs.btn.anim.stop(),this.isPhotoTaken=!this.isPhotoTaken,this.takePhoto()},takePhoto:function(){var t=this;if(this.isLoading)return void console.log("camera is not ready");this.imageCapture.takePhoto().then(function(t){return console.log(t),createImageBitmap(t)}).then(function(e){var n=a.a.size(),i=screen.orientation.angle/90%2==1?e.width/t.app.view.width:e.height/t.app.video.height,o=n.width*i,s=n.height*i;return r.a.crop(e,Math.max(0,(e.width-o)/2),Math.max(0,(e.height-s)/2),o,s,300,300).blob}).then(function(t){r.a.blobToUrl(t).then(function(t){return localStorage.setItem("raster",t)});var e=new FormData;return e.append("hierarchial","cutout"),e.append("filter_speckle",4),e.append("color_precision",6),e.append("layer_difference",16),e.append("file",t),c.a.post("https://fierce-lake-44609.herokuapp.com/vision/",e,{header:{"Content-Type":"multipart/form-data"}})}).then(function(e){localStorage.setItem("vectorized",e.data),t.progressEnd(),t.goEdit()}).catch(function(e){console.log("error..."),console.log(e),t.progressEnd()})}},components:{LottieView:o.a,EditPage:u.a}}},83:function(t,e,n){"use strict";function i(t){n(195)}var a=n(84),o=n(198),r=n(9),s=i,c=r(a.a,o.a,!1,s,"data-v-7bead04a",null);e.a=c.exports},84:function(t,e,n){"use strict";var i=n(196),a=n.n(i);e.a={name:"EditPage",data:function(){return{}},mounted:function(){var t=localStorage.getItem("raster");document.querySelector("#original-image").src=t;var e=localStorage.getItem("vectorized"),n=document.querySelector("#svg-wrapper");n.innerHTML=e;var i=n.querySelector("svg"),o=a()(i),r=o.getBBox();o.attr({width:"100%",height:"100%",viewBox:"0, 0, "+r.width+", "+r.height,preserveAspectRatio:"none"}),console.log(o),o.selectAll("path").forEach(function(t){t.attr({fill:"#000","fill-opacity":"0.3",stroke:"black","stroke-width":"0.5","stroke-opacity":"0.5"}),t.touchstart(function(t){this.attr({fill:"red","fill-opacity":"0.8"})}),t.touchend(function(t){this.attr({fill:"#000","fill-opacity":"0.3"})})})}}},85:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(86),a=(n.n(i),n(88)),o=(n.n(a),n(89)),r=(n.n(o),n(90)),s=n(92),c=n.n(s),u=n(94);r.a.config.productionTip=!1,r.a.use(c.a),new r.a({el:"#app",template:"<App/>",components:{App:u.a}})},86:function(t,e){},88:function(t,e){},89:function(t,e){},94:function(t,e,n){"use strict";function i(t){n(95)}var a=n(40),o=n(202),r=n(9),s=i,c=r(a.a,o.a,!1,s,"data-v-4d1de804",null);e.a=c.exports},95:function(t,e){},96:function(t,e,n){"use strict";function i(t){n(97)}var a=n(41),o=n(156),r=n(9),s=i,c=r(a.a,o.a,!1,s,"data-v-6915d949",null);e.a=c.exports},97:function(t,e){}},[85]);
//# sourceMappingURL=app.09ce185fa8d47a6eb2da.js.map